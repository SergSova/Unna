function menuApartItemsAnim(){function t(t,i,n,e){this.elem=n,this.left=t,this.right=i,this.direction=1,this.x=0,this.speed=e,this.requestAnim}var i;$(".menu-apart-items .menu-apart-item:first-child span");$(".menu-apart-white").hover(function(){i=0;for(var t=0;t<n.length;t++)n[t].move()},function(){i=3});var n=[];$(".menu-apart-white .menu-apart-item").each(function(i){var e=$(this).find("span"),s=e.data("left"),o=e.data("right"),f=e.data("speed");n[i]=new t(s,o,e,f)}),window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}(),t.prototype.move=function(){var t=this;if(3!=i)0==this.direction?this.x-=this.speed:1==this.direction&&(this.x+=this.speed),this.x<=this.left?this.direction=1:this.x>=this.right&&(this.direction=0);else if(this.x<-1)this.x+=this.speed;else{if(!(this.x>1))return void window.cancelAnimationFrame(this.requestAnim);this.x-=this.speed}this.elem.css("transform","translateX("+this.x+"px)"),setTimeout(function(){this.requestAnim=window.requestAnimationFrame(function(){t.move()})}.bind(this),50)}}$(window).on("load",function(){var t=$(".wrapper"),i=t.find(".menu-item"),n=window.location.pathname;t.find(".left-side, .right-side, .footer").css({opacity:1}),"/"==n?setTimeout(function(){$("body").addClass("start-anim")},1500):($("body").addClass("start-no"),i.addClass("visible"))}),$(window).on("load",function(){function t(){f?(h.forEach(function(t){clearTimeout(t)}),i.find(".bm-sub-link").css({opacity:0})):i.find(".bm-column").each(function(){var t=200;$(this).find(".bm-sub-link").each(function(){var i=$(this);h.push(setTimeout(function(){i.css({opacity:1})},t)),t+=200})})}var i=$(".wrapper"),n=i.find(".left-side"),e=i.find(".cube"),s=i.find(".sandwich-wrap"),o=i.find(".bm-langs");$(window).resize(function(){});var f=!0;i.find(".menu-sandwich").click(function(i){return i.preventDefault(),$(this).toggleClass("rotate"),n.toggleClass("big"),f=!f,t(),!1}),i.find(".panel-2, .panel-3").offset({left:s.offset().left}),o.offset({top:s.offset().top+s.height()+20,left:s.offset().left+(s.width()-o.width())/2}),i.find(".bm-column").css({"padding-top":s.offset().top});for(var a=i.find(".header-tel").html(),r=a.split(""),d=[],c=[],l=1;l<=r.length;l++)l<8?(d.unshift(r[r.length-l]),2!==l&&4!==l&&7!==l||d.unshift("&nbsp;")):(c.unshift(r[r.length-l]),10!==l&&12!==l||c.unshift("&nbsp;"));d="<span>"+d.join("")+"</span>",c=c.join(""),i.find(".header-tel").html(c+d);var h=[],m=0;i.find(".bm-column ul").each(function(){var t=$(this).offset().top;t>m&&(i.find(".bm-column ul").offset({top:t}),m=t)}),i.find(".bm-js").mouseenter(function(){var t=$(this).offset().top,i=$(this).height();$(this).parents(".bm-column").find(".bm-line").css({height:t+i/2+"px"}),$(this).parents(".bm-column").find(".bm-circ").css({top:t+i/2+"px"})}),i.find(".bm-js").mouseleave(function(){$(this).parents(".bm-column").find(".bm-line").css({height:0}),$(this).parents(".bm-column").find(".bm-circ").css({top:"-7px"})}),i.find(".bm-wrap").offset({left:s.offset().left+s.width()+20});var w=["/","/aktivnyij-dom/","/planirovki/","/usloviya-pokupki/","/galereya/","/novosti/","/kontaktyi.html"],u=window.location.pathname,p=w.indexOf(u);p>-1&&(p>0&&p<w.length-1?$(window).on("wheel",function(t){(window.event||t.originalEvent).deltaY<0?window.location.href=w[p-1]:window.location.href=w[p+1]}):0==p?(i.find(".btn-arrows-left").css({visibility:"hidden"}),$(window).on("wheel",function(t){(window.event||t.originalEvent).deltaY>0&&(window.location.href=w[p+1])})):p==w.length-1&&(i.find(".btn-arrows-right").css({visibility:"hidden"}),$(window).on("wheel",function(t){(window.event||t.originalEvent).deltaY<0&&(window.location.href=w[p-1])}))),"///"==u&&(i.find(".action").offset({top:i.find(".panel-3").offset().top}),i.find(".btn-more").offset({top:i.find(".btn-more-wrap").offset().top-(i.find(".btn-more-wrap").height()-i.find(".btn-more").height())/2,left:i.find(".btn-more-wrap").offset().left-i.find(".btn-more").width()-100}).css("bottom","auto")),"/kontaktyi.html"==u&&$(".footer").css({opacity:1});var v=!0;e.click(function(){var t=e.find(".cube-text");v=!v,$(this).toggleClass("active"),v?t.html("отключить анимацию"):t.html("включить анимацию")}),i.find(".content-text").length>0&&i.find("p").html()}),menuApartItemsAnim(),$(window).on("load",function(){function t(){for(var t=0;t<s.length;t++){var i=s.eq(t);i.find("span").offset({left:i.offset().left-(i.find("span").width()-i.width())/2,top:n.find(".segment").offset().top}),t<o/2&&e.find(".circ:eq("+t+"), .segment:eq("+t+")").addClass("pre-active")}}function i(){var t=$(window).width();t<1750?(console.log(t-992),e.find(".segment").css({width:(t-992)/f+73+"px"})):e.find(".segment").css({width:"140px"})}var n=$(".wrapper");if(n.find(".foot-menu").length){var e=(n.find(".content"),n.find(".footer")),s=e.find(".circ"),o=e.find(".circ.active").index();setTimeout(t);var f=758/67;i(),n.find(".circ:eq(0) span").offset({left:n.find(".circ:eq(0)").offset().left}),s.on("click",function(){if($(this).hasClass("active"))return!1}),$(window).resize(function(){t(),i()}),s.each(function(){"технические характеристики"===$(this).find("span").html().toLowerCase()&&$(this).find("span").html("Тех. характеристики")})}}),$(window).on("load",function(){function t(){e=$(window).width(),e>=1920?n.find(".scale-js-1, .scale-js-2, .scale-js-3").css({transform:"scale(1)"}):(n.find(".scale-js-1").css({transform:"scale("+e/1920+")"}),n.find(".scale-js-17").css({transform:"scale("+(e/1920+(1-e/1920)/1.7)+")"}),n.find(".scale-js-2").css({transform:"scale("+(e/1920+(1-e/1920)/2)+")"}),n.find(".scale-js-3").css({transform:"scale("+(e/1920+(1-e/1920)/3*2)+")"}),n.find(".scale-js-4").css({transform:"scale("+(e/1920+(1-e/1920)/4*3)+")"}),n.find(".scale-js-5").css({transform:"scale("+(e/1920+(1-e/1920)/5*4)+")"}))}function i(){e<1800?n.find(".foot-scale").css("transform","perspective(500px) translateZ("+((e-992)/2.02-400)+"px)"):n.find(".foot-scale").css("transform","perspective(500px) translateZ(0)")}var n=$(".wrapper"),e=$(window).width();t(),i(),$(window).resize(function(){t(),i()})});